<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>spark奇技淫巧总结之强大的flatMap | Adam Home</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">spark奇技淫巧总结之强大的flatMap</h1><a id="logo" href="/.">Adam Home</a><p class="description">快意回首，拂心莫停</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于我</i></a><a href="/timeline/"><i class="fa fa-line-chart"> 历史</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">spark奇技淫巧总结之强大的flatMap</h1><div class="post-meta">Jun 22, 2017<span> | </span><span class="category"><a href="/categories/spark开发/">spark开发</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p>spark RDD与DStream API支持很多好用的算子，最常用的莫过于map和filter了，顾名思义可知：<br><strong>map</strong>： 返回一个新的分布式数据集，其中每个元素都是由源RDD中一个元素经func转换得到的；<br><strong>filter</strong>： 返回一个新的数据集，其中包含的元素来自源RDD中元素经func过滤后（func返回true时才选中）的结果；</p>
<p>举个例子：如下RDD a 的一个partition有10个元素，那么：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">val</span> a: <span class="type">RDD</span>[<span class="type">String</span>] = sc.parallelize(<span class="type">Seq</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"1"</span>, <span class="string">"4"</span>, <span class="string">"3"</span>, <span class="string">"3"</span>, <span class="string">"1"</span>, <span class="string">"5"</span>, <span class="string">"6"</span>))</div><div class="line"><span class="comment">// 后的结果肯定有 10个元素</span></div><div class="line"><span class="keyword">val</span> b: <span class="type">RDD</span>[<span class="type">String</span>] = a.map(func1()) </div><div class="line"><span class="comment">// 后的结果肯定 &lt;= 10个元素，并且元素的内容不会改变</span></div><div class="line"><span class="keyword">val</span> c: <span class="type">RDD</span>[<span class="type">String</span>] = a.filter(func2())</div></pre></td></tr></table></figure>
<p>通过类似如上样例代码，可知，如果你要转化内容，通过map，10个元素变化后还是10个元素，如果你想过滤内容，c 通过a过滤后，虽然一些值被过滤掉了，<strong>但是没被过滤掉的值依然没有变化</strong>。</p>
<p>先看flatMap的spark官网文档的官方解释：<br><strong>类似于map，但每个输入元素可以映射到0到n个输出元素（所以要求func必须返回一个Seq而不是单个元素）。</strong><br>RDD API的解释：<br><strong>Return a new RDD by first applying a function to all elements of this RDD, and then flattening the results.</strong></p>
<p>无论网上的一些例子还是解释，都给人一种flatMap只能把数据“压扁”的感觉。其实flatMap不仅仅能把数据压扁，还能把数据“拔高”，还能把数据“过滤”。flatMap不像map，只能1对1，也不像filter，只能1对1或0(还不能改变数据)，它是1对n(自然数)的。</p>
<h3 id="解决边处理边过滤的需求"><a href="#解决边处理边过滤的需求" class="headerlink" title="解决边处理边过滤的需求"></a>解决边处理边过滤的需求</h3><p>我在开发中遇到过很多次这种需求：<strong>既要改变内容，同时不符合要求的数据需要过滤</strong>，这种情况下该怎么办呢？</p>
<h4 id="简单方案"><a href="#简单方案" class="headerlink" title="简单方案"></a>简单方案</h4><p>先filter，然后map，或者先map，然后filter，这样都可以完成这种需求，但是它有以下问题：</p>
<ol>
<li>重复计算了，map和filter中很多类似的逻辑都要多算一遍，这在大量数据集下是不可容忍的；</li>
<li>对于有些判断，只可能判断一次，第二次计算结果会不一样，比如在transform中需要与外界redis等交互的判断，这种情况下，结果都是错误的；</li>
</ol>
<p>这种情况下，就可以用flatMap来解决，嘿嘿~</p>
<p>直接说解决方案吧：对数据进行flatMap进行转换，如果不符合要求要过滤，则直接返回 None即可，样例代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RunWith</span>(classOf[<span class="type">JUnitRunner</span>])</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlatMapTest</span> <span class="keyword">extends</span> <span class="title">FunSuite</span> <span class="keyword">with</span> <span class="title">Matchers</span> </span>&#123;</div><div class="line">  <span class="comment">/**</span></div><div class="line">    * 测试 rdd FlatMapTest 的过滤用法是否可行</div><div class="line">    */</div><div class="line">  test(<span class="string">"FlatMapTest should work"</span>) &#123;</div><div class="line">    println(<span class="string">"FlatMapTest  started"</span>)</div><div class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">"Simple Application"</span>).setMaster(<span class="string">"local"</span>)</div><div class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</div><div class="line">    <span class="keyword">val</span> a: <span class="type">RDD</span>[<span class="type">String</span>] = sc.parallelize(<span class="type">Seq</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"1"</span>, <span class="string">"4"</span>, <span class="string">"3"</span>, <span class="string">"3"</span>, <span class="string">"1"</span>, <span class="string">"5"</span>, <span class="string">"6"</span>))</div><div class="line">    <span class="keyword">val</span> b: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">String</span>)] = a.map(f =&gt; (f, f + <span class="string">"asd"</span>))</div><div class="line">    <span class="keyword">val</span> c = b.mapPartitions &#123;</div><div class="line">      eachPar =&gt; &#123;</div><div class="line">        eachPar.flatMap(f =&gt;</div><div class="line">          <span class="keyword">if</span> (f._2.startsWith(<span class="string">"3"</span>)) &#123;</div><div class="line">            <span class="type">Some</span>(f._1, f._2 + <span class="string">"--b"</span>)</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="type">None</span></div><div class="line">          &#125;</div><div class="line">        )</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    c.cache()</div><div class="line">    c.foreach(println(_))</div><div class="line">    println(c.count())</div><div class="line">    c.unpersist()</div><div class="line">    println(<span class="string">"FlatMapTest ended"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上述的代码就可以做到处理的过程中进行过滤了~</p>
<h3 id="解决一条数据对应多条数据的需求"><a href="#解决一条数据对应多条数据的需求" class="headerlink" title="解决一条数据对应多条数据的需求"></a>解决一条数据对应多条数据的需求</h3><p>我在开发中也遇到过这种需求：<strong>RDD中一个元素处理后可能会变成多个元素</strong>，比如一个用户可能会同时在多个景区存在，为了便于统计和输出，需要同时输出多个，这种情况下可以用flatMap来解决：</p>
<p>首先看看RDD flatMap的定义：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> *  Return a new RDD by first applying a function to all elements of this</div><div class="line"> *  RDD, and then flattening the results.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatMap</span></span>[<span class="type">U</span>: <span class="type">ClassTag</span>](f: <span class="type">T</span> =&gt; <span class="type">TraversableOnce</span>[<span class="type">U</span>]): <span class="type">RDD</span>[<span class="type">U</span>] = withScope &#123;</div><div class="line">  <span class="keyword">val</span> cleanF = sc.clean(f)</div><div class="line">  <span class="keyword">new</span> <span class="type">MapPartitionsRDD</span>[<span class="type">U</span>, <span class="type">T</span>](<span class="keyword">this</span>, (context, pid, iter) =&gt; iter.flatMap(cleanF))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>它底层调用的是 Iterator 的flatMap<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Creates a new iterator by applying a function to all values produced by this iterator</span></div><div class="line"> *  and concatenating the results.</div><div class="line"> *</div><div class="line"> *  @param f the function to apply on each element.</div><div class="line"> *  @return  the iterator resulting from applying the given iterator-valued function</div><div class="line"> *           `f` to each value produced by this iterator and concatenating the results.</div><div class="line"> *  @note    Reuse: $consumesAndProducesIterator</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatMap</span></span>[<span class="type">B</span>](f: <span class="type">A</span> =&gt; <span class="type">GenTraversableOnce</span>[<span class="type">B</span>]): <span class="type">Iterator</span>[<span class="type">B</span>] = <span class="keyword">new</span> <span class="type">AbstractIterator</span>[<span class="type">B</span>] &#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">var</span> cur: <span class="type">Iterator</span>[<span class="type">B</span>] = empty</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hasNext</span></span>: <span class="type">Boolean</span> =</div><div class="line">    cur.hasNext || self.hasNext &amp;&amp; &#123; cur = f(self.next).toIterator; hasNext &#125;</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">next</span></span>(): <span class="type">B</span> = (<span class="keyword">if</span> (hasNext) cur <span class="keyword">else</span> empty).next()</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以看到，flatMap的返回也是 Iterator[B]，所以，只要我们以 Iterator 的方式返回，就可以返回多条数据了，在Scala中，只要你返回的格式是某种可以Iterator的，就满足要求了，在Scala中，所有的集合Iterable都是 trait Iterator的一种扩展，无论是 seq set 还是map，这就很方便了，样例代码如下：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">  test(<span class="string">"FlatMapTest should work"</span>) &#123;</div><div class="line">    println(<span class="string">"FlatMapTest  started"</span>)</div><div class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">"Simple Application"</span>).setMaster(<span class="string">"local[3]"</span>)</div><div class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</div><div class="line">    <span class="keyword">val</span> a: <span class="type">RDD</span>[<span class="type">String</span>] = sc.parallelize(<span class="type">Seq</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"1"</span>, <span class="string">"4"</span>, <span class="string">"3"</span>, <span class="string">"3"</span>, <span class="string">"1"</span>, <span class="string">"5"</span>, <span class="string">"6"</span>, <span class="string">"5"</span>))</div><div class="line">    <span class="keyword">val</span> b: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">String</span>)] = a.map(f =&gt; (f, f + <span class="string">"asd"</span>))</div><div class="line">    <span class="keyword">val</span> c = b.mapPartitions &#123;</div><div class="line">      eachPar =&gt; &#123;</div><div class="line">        eachPar.flatMap(f =&gt; &#123;</div><div class="line">          <span class="keyword">val</span> returnSeq = <span class="type">ArrayBuffer</span>.empty[(<span class="type">String</span>, <span class="type">String</span>)]</div><div class="line">          <span class="keyword">if</span> (f._2.startsWith(<span class="string">"3"</span>)) &#123;</div><div class="line">            returnSeq += ((f._1, f._2 + <span class="string">"--b"</span>))</div><div class="line">            returnSeq += ((f._1, f._2 + <span class="string">"-4c"</span>))</div><div class="line">            returnSeq += ((f._2, f._1 + <span class="string">"-6d"</span>))</div><div class="line"><span class="comment">//            Seq(Some(f._1, f._2 + "--b"), Some(f._1, f._2 + "--c"), Some(f._2, f._1 + "--d"))</span></div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">          &#125;</div><div class="line">          returnSeq</div><div class="line">        &#125;</div><div class="line">        )</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    c.cache()</div><div class="line">    c.foreach(println(_))</div><div class="line">    println(c.count())</div><div class="line">    c.unpersist()</div><div class="line">    println(<span class="string">"FlatMapTest ended"</span>)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>当然，实际处理比这复杂多了，你可以在flatMap中随意发挥，进行各种对外的连接查询操作。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://flume.cn/2017/06/22/spark奇技淫巧总结之flatMap/" data-id="cjgd2byg5003peggueqk8dnfs" class="article-share-link">分享</a><div class="tags"><a href="/tags/spark开发/">spark开发</a></div><div class="post-nav"><a href="/2017/06/28/位置服务开发上线总结/" class="pre">位置服务开发上线总结————实时数据推送</a><a href="/2017/05/22/OpenAPI微服务接入规范/" class="next">OpenAPI微服务接入规范</a></div><div id="uyan_frame"></div><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2139407"></script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/eagle/">eagle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flume/">flume</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/scala/">scala</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark开发/">spark开发</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring-cloud/">spring cloud</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/单车岁月/">单车岁月</a><span class="category-list-count">5</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/大数据开发/" style="font-size: 15px;">大数据开发</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/hue/" style="font-size: 15px;">hue</a> <a href="/tags/kerberos/" style="font-size: 15px;">kerberos</a> <a href="/tags/livy/" style="font-size: 15px;">livy</a> <a href="/tags/hbase/" style="font-size: 15px;">hbase</a> <a href="/tags/yarn/" style="font-size: 15px;">yarn</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/flume/" style="font-size: 15px;">flume</a> <a href="/tags/spark-streaming/" style="font-size: 15px;">spark streaming</a> <a href="/tags/kafka/" style="font-size: 15px;">kafka</a> <a href="/tags/spark/" style="font-size: 15px;">spark</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/持续更新/" style="font-size: 15px;">持续更新</a> <a href="/tags/spark开发/" style="font-size: 15px;">spark开发</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/散文/" style="font-size: 15px;">散文</a> <a href="/tags/eagle/" style="font-size: 15px;">eagle</a> <a href="/tags/架构/" style="font-size: 15px;">架构</a> <a href="/tags/spring-cloud/" style="font-size: 15px;">spring cloud</a> <a href="/tags/微服务/" style="font-size: 15px;">微服务</a> <a href="/tags/es/" style="font-size: 15px;">es</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/01/08/spark2-2新版本编译打包/">spark2.2新版本编译打包</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/31/使用Ansable安装管理Spark客户端/">使用Ansable安装管理Spark客户端</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/17/spark往ES中写入数据的方法/">spark往ES中写入数据的方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/17/spark指定java版本向yarn提交程序/">spark在yarn中运行jdk8</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/返回区域实时人数的思路与总结/">返回区域实时人数的思路与总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/28/位置服务开发上线总结/">位置服务开发上线总结————实时数据推送</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/22/spark奇技淫巧总结之flatMap/">spark奇技淫巧总结之强大的flatMap</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/22/OpenAPI微服务接入规范/">OpenAPI微服务接入规范</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/29/OpenApi之我浅薄见解/">OpenApi之我浅薄见解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/阿里巴巴Java开发手册学习笔记2/">阿里巴巴Java开发手册学习笔记（下）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://issues.apache.org/jira/secure/Dashboard.jspa" title="有问题上JIRA" target="_blank">有问题上JIRA</a><ul></ul><a href="https://github.com/lw-lin/CoolplaySpark" title="酷玩 Spark" target="_blank">酷玩 Spark</a><ul></ul><a href="http://lqding.blog.51cto.com" title="叮咚的51博客" target="_blank">叮咚的51博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Adam Home.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>